<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rutherford Scattering Simulation</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: 'Montserrat', sans-serif;
            background: linear-gradient(135deg, #005AA7 0%, #FFFDE4 100%);
            color: #333;
            line-height: 1.6;
            padding: 20px;
            min-height: 100vh;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background: rgba(255, 255, 255, 0.7);
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }
        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            color: #005AA7;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.1);
        }
        .subtitle {
            font-size: 1.2rem;
            color: #555;
            margin-bottom: 20px;
            opacity: 0.8;
        }
        .simulation-area {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin-bottom: 30px;
        }
        .canvas-container {
            flex: 1;
            min-width: 300px;
            background: rgba(255, 255, 255, 0.7);
            border-radius: 10px;
            padding: 15px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }
        #simulationCanvas {
            width: 100%;
            height: 500px;
            background: #e9eff5;
            border-radius: 8px;
            display: block;
        }
        .controls {
            flex: 1;
            min-width: 300px;
            background: rgba(255, 255, 255, 0.7);
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }
        .control-group {
            margin-bottom: 20px;
            padding: 15px;
            background: #f0f8ff;
            border-radius: 8px;
            border: 1px solid #d1d9e6;
        }
        h2 {
            font-size: 1.5rem;
            margin-bottom: 15px;
            color: #005AA7;
            border-bottom: 2px solid #005AA7;
            padding-bottom: 5px;
        }
        h3 {
            font-size: 1.2rem;
            margin: 15px 0 10px;
            color: #005AA7;
        }
        .slider-container {
            margin: 10px 0;
        }
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: 500;
        }
        input[type="range"] {
            width: 100%;
            margin: 10px 0;
            -webkit-appearance: none;
            height: 8px;
            background: #d1d9e6;
            border-radius: 4px;
            outline: none;
        }
        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 20px;
            height: 20px;
            background: #005AA7;
            border-radius: 50%;
            cursor: pointer;
        }
        .value-display {
            display: flex;
            justify-content: space-between;
            font-size: 0.9rem;
            color: #555;
            font-weight: 600;
        }
        .checkbox-container {
            display: flex;
            align-items: center;
            margin: 10px 0;
            color: #555;
        }
        .checkbox-container input {
            margin-right: 10px;
        }
        button {
            background: #005AA7;
            color: #fff;
            border: none;
            padding: 12px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            margin: 5px;
            transition: all 0.3s;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }
        button:hover {
            background: #004a8b;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }
        button.active {
            background: #28a745;
            color: white;
        }
        .legend {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-top: 20px;
            padding: 15px;
            background: #f0f8ff;
            border-radius: 10px;
            border: 1px solid #d1d9e6;
        }
        .legend-item {
            display: flex;
            align-items: center;
            margin-right: 20px;
        }
        .color-box {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            margin-right: 10px;
        }
        .info {
            background: rgba(255, 255, 255, 0.7);
            border-radius: 10px;
            padding: 20px;
            margin-top: 30px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }
        .info p {
            margin-bottom: 15px;
        }
        .scale {
            text-align: center;
            font-style: italic;
            margin: 10px 0;
            color: #555;
            opacity: 0.8;
        }
        
        /* Responsive Styles */
        @media (max-width: 1200px) {
            .container {
                padding: 15px;
            }
        }
        @media (max-width: 992px) {
            h1 {
                font-size: 2rem;
            }
            .subtitle {
                font-size: 1.1rem;
            }
            .simulation-area {
                flex-direction: column;
                gap: 15px;
            }
            #simulationCanvas {
                height: 400px;
            }
        }
        @media (max-width: 768px) {
            h1 {
                font-size: 1.8rem;
            }
            .subtitle {
                font-size: 1rem;
            }
            .controls, .info {
                padding: 15px;
            }
            .control-group {
                padding: 10px;
            }
            .legend {
                justify-content: center;
                text-align: center;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Rutherford Scattering Simulation</h1>
            <p class="subtitle">Explore how alpha particles interact with atoms</p>
        </header>

        <div class="simulation-area">
            <div class="canvas-container">
                <canvas id="simulationCanvas"></canvas>
                <p class="scale">Atomic Scale: 6.0 Ã— 10<sup>-10</sup> m</p>
            </div>
            
            <div class="controls">
                <div class="control-group">
                    <h2>Simulation Controls</h2>
                    
                    <div class="slider-container">
                        <label for="minEnergy">Minimum Alpha Energy: <span id="minEnergyValue">3</span></label>
                        <input type="range" id="minEnergy" min="1" max="10" value="3">
                    </div>
                    
                    <div class="slider-container">
                        <label for="maxEnergy">Maximum Alpha Energy: <span id="maxEnergyValue">7</span></label>
                        <input type="range" id="maxEnergy" min="1" max="10" value="7">
                    </div>
                    
                    <div class="checkbox-container">
                        <input type="checkbox" id="showTraces" checked>
                        <label for="showTraces">Show Alpha Particle Traces</label>
                    </div>
                </div>
                
                <div class="control-group">
                    <h2>Atom Properties</h2>
                    
                    <div class="slider-container">
                        <label for="protons">Protons: <span id="protonValue">79</span></label>
                        <input type="range" id="protons" min="1" max="100" value="79">
                    </div>
                    
                    <div class="slider-container">
                        <label for="neutrons">Neutrons: <span id="neutronValue">118</span></label>
                        <input type="range" id="neutrons" min="1" max="150" value="118">
                    </div>
                    
                    <div class="checkbox-container">
                        <input type="checkbox" id="showNucleus" checked>
                        <label for="showNucleus">Show Nucleus</label>
                    </div>
                </div>
                
                <div class="control-group">
                    <h2>Atomic Model</h2>
                    <div>
                        <button id="rutherfordBtn" class="active">Rutherford Model</button>
                        <button id="plumPuddingBtn">Plum Pudding Model</button>
                    </div>
                </div>
                
                <div class="legend">
                    <h3>Legend:</h3>
                    <div class="legend-item">
                        <div class="color-box" style="background-color: #FFD700;"></div>
                        <span>Nucleus</span>
                    </div>
                    <div class="legend-item">
                        <div class="color-box" style="background-color: #00E5FF;"></div>
                        <span>Electron Energy Level</span>
                    </div>
                    <div class="legend-item">
                        <div class="color-box" style="background-color: #FF5252;"></div>
                        <span>Alpha Particle</span>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="info">
            <h2>About Rutherford's Experiment</h2>
            <p>In 1911, Ernest Rutherford conducted his gold foil experiment that led to the discovery of the atomic nucleus. He shot alpha particles at a thin sheet of gold foil and observed their scattering patterns.</p>
            <p>This simulation demonstrates how alpha particles are deflected when they come close to a positively charged nucleus, which was a surprising result that led to the planetary model of the atom.</p>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Canvas setup
            const canvas = document.getElementById('simulationCanvas');
            const ctx = canvas.getContext('2d');
            
            // Set canvas dimensions correctly
            function resizeCanvas() {
                const container = canvas.parentElement;
                canvas.width = container.clientWidth;
                canvas.height = 500;
            }
            
            // Initial resize
            resizeCanvas();
            
            // Resize when window changes
            window.addEventListener('resize', resizeCanvas);
            
            // Simulation parameters
            let protons = 79;
            let neutrons = 118;
            let minEnergy = 3;
            let maxEnergy = 7;
            let showTraces = true;
            let showNucleus = true;
            let currentModel = 'rutherford';
            
            // Nucleus position (center of canvas)
            let nucleusX = canvas.width / 2;
            let nucleusY = canvas.height / 2;
            let nucleusRadius = 30;
            
            // Electron orbits
            const electronOrbits = [
                { radius: 80, speed: 0.02, electrons: 8 },
                { radius: 130, speed: 0.015, electrons: 18 },
                { radius: 180, speed: 0.01, electrons: 32 }
            ];
            
            // Initialize electron positions
            electronOrbits.forEach(orbit => {
                orbit.angles = Array.from({length: orbit.electrons}, (_, i) => 
                    (i / orbit.electrons) * Math.PI * 2
                );
            });
            
            // Alpha particles array
            let alphaParticles = [];
            
            // UI element references
            const minEnergySlider = document.getElementById('minEnergy');
            const maxEnergySlider = document.getElementById('maxEnergy');
            const minEnergyValue = document.getElementById('minEnergyValue');
            const maxEnergyValue = document.getElementById('maxEnergyValue');
            const showTracesCheckbox = document.getElementById('showTraces');
            const protonsSlider = document.getElementById('protons');
            const neutronsSlider = document.getElementById('neutrons');
            const protonValue = document.getElementById('protonValue');
            const neutronValue = document.getElementById('neutronValue');
            const showNucleusCheckbox = document.getElementById('showNucleus');
            const rutherfordBtn = document.getElementById('rutherfordBtn');
            const plumPuddingBtn = document.getElementById('plumPuddingBtn');
            
            // Event listeners for UI controls
            minEnergySlider.addEventListener('input', function() {
                minEnergy = parseInt(this.value);
                minEnergyValue.textContent = minEnergy;
            });
            
            maxEnergySlider.addEventListener('input', function() {
                maxEnergy = parseInt(this.value);
                maxEnergyValue.textContent = maxEnergy;
            });
            
            showTracesCheckbox.addEventListener('change', function() {
                showTraces = this.checked;
            });
            
            protonsSlider.addEventListener('input', function() {
                protons = parseInt(this.value);
                protonValue.textContent = protons;
                nucleusRadius = 10 + (protons / 20);
            });
            
            neutronsSlider.addEventListener('input', function() {
                neutrons = parseInt(this.value);
                neutronValue.textContent = neutrons;
            });
            
            showNucleusCheckbox.addEventListener('change', function() {
                showNucleus = this.checked;
            });
            
            rutherfordBtn.addEventListener('click', function() {
                currentModel = 'rutherford';
                rutherfordBtn.classList.add('active');
                plumPuddingBtn.classList.remove('active');
            });
            
            plumPuddingBtn.addEventListener('click', function() {
                currentModel = 'plum-pudding';
                plumPuddingBtn.classList.add('active');
                rutherfordBtn.classList.remove('active');
            });
            
            // Alpha Particle class
            class AlphaParticle {
                constructor() {
                    this.reset();
                }
                
                reset() {
                    // Start from a random edge
                    const side = Math.floor(Math.random() * 4);
                    
                    if (side === 0) { // Top
                        this.x = Math.random() * canvas.width;
                        this.y = 0;
                        this.angle = Math.PI / 2 + (Math.random() - 0.5) * 0.2;
                    } else if (side === 1) { // Right
                        this.x = canvas.width;
                        this.y = Math.random() * canvas.height;
                        this.angle = Math.PI + (Math.random() - 0.5) * 0.2;
                    } else if (side === 2) { // Bottom
                        this.x = Math.random() * canvas.width;
                        this.y = canvas.height;
                        this.angle = Math.PI * 1.5 + (Math.random() - 0.5) * 0.2;
                    } else { // Left
                        this.x = 0;
                        this.y = Math.random() * canvas.height;
                        this.angle = (Math.random() - 0.5) * 0.2;
                    }
                    
                    this.speed = minEnergy + Math.random() * (maxEnergy - minEnergy);
                    this.trail = [];
                    this.trailLength = 20;
                    this.scattered = false;
                }
                
                update() {
                    // Move particle
                    this.x += Math.cos(this.angle) * this.speed;
                    this.y += Math.sin(this.angle) * this.speed;
                    
                    // Add current position to trail
                    if (showTraces) {
                        this.trail.push({x: this.x, y: this.y});
                        if (this.trail.length > this.trailLength) {
                            this.trail.shift();
                        }
                    }
                    
                    // Check for collision with nucleus based on model
                    const dx = this.x - nucleusX;
                    const dy = this.y - nucleusY;
                    const distance = Math.sqrt(dx * dx + dy * dy);
                    
                    if (currentModel === 'rutherford') {
                        // Rutherford model - particles can be deflected
                        if (distance < nucleusRadius + 5 && !this.scattered) {
                            // Calculate deflection angle based on distance from center
                            const impactParameter = distance / nucleusRadius;
                            const deflection = (Math.PI / 2) * (1 - impactParameter);
                            
                            // Adjust angle based on deflection
                            this.angle += deflection;
                            this.scattered = true;
                        }
                    } else {
                        // Plum pudding model - particles pass through with minimal deflection
                        if (distance < nucleusRadius + 5 && !this.scattered) {
                            // Minimal deflection
                            this.angle += (Math.random() - 0.5) * 0.1;
                            this.scattered = true;
                        }
                    }
                    
                    // Check if particle is out of bounds
                    if (this.x < -10 || this.x > canvas.width + 10 || 
                        this.y < -10 || this.y > canvas.height + 10) {
                        this.reset();
                    }
                }
                
                draw() {
                    // Draw trail
                    if (showTraces && this.trail.length > 1) {
                        ctx.beginPath();
                        ctx.moveTo(this.trail[0].x, this.trail[0].y);
                        
                        for (let i = 1; i < this.trail.length; i++) {
                            ctx.lineTo(this.trail[i].x, this.trail[i].y);
                        }
                        
                        ctx.strokeStyle = 'rgba(255, 82, 82, 0.7)';
                        ctx.lineWidth = 2;
                        ctx.stroke();
                    }
                    
                    // Draw particle
                    ctx.beginPath();
                    ctx.arc(this.x, this.y, 4, 0, Math.PI * 2);
                    ctx.fillStyle = '#FF5252';
                    ctx.fill();
                }
            }
            
            // Create alpha particles
            for (let i = 0; i < 50; i++) {
                alphaParticles.push(new AlphaParticle());
                
                // Stagger their initial positions
                for (let j = 0; j < i * 5; j++) {
                    alphaParticles[i].update();
                }
            }
            
            // Draw nucleus
            function drawNucleus() {
                if (!showNucleus) return;
                
                ctx.beginPath();
                ctx.arc(nucleusX, nucleusY, nucleusRadius, 0, Math.PI * 2);
                ctx.fillStyle = '#FFD700';
                ctx.fill();
                
                // Draw nucleon count
                ctx.fillStyle = '#333';
                ctx.font = '14px Montserrat';
                ctx.textAlign = 'center';
                ctx.fillText(`P: ${protons}, N: ${neutrons}`, nucleusX, nucleusY + 45);
            }
            
            // Draw electron orbits and electrons
            function drawElectrons() {
                electronOrbits.forEach(orbit => {
                    // Draw orbit
                    ctx.beginPath();
                    ctx.arc(nucleusX, nucleusY, orbit.radius, 0, Math.PI * 2);
                    ctx.strokeStyle = 'rgba(0, 90, 167, 0.3)';
                    ctx.lineWidth = 1;
                    ctx.stroke();
                    
                    // Draw electrons
                    orbit.angles.forEach(angle => {
                        const x = nucleusX + Math.cos(angle) * orbit.radius;
                        const y = nucleusY + Math.sin(angle) * orbit.radius;
                        
                        ctx.beginPath();
                        ctx.arc(x, y, 3, 0, Math.PI * 2);
                        ctx.fillStyle = '#005AA7';
                        ctx.fill();
                    });
                    
                    // Update angles for next frame
                    orbit.angles = orbit.angles.map(angle => (angle + orbit.speed) % (Math.PI * 2));
                });
            }
            
            // Animation loop
            function animate() {
                // Update nucleus position in case canvas was resized
                nucleusX = canvas.width / 2;
                nucleusY = canvas.height / 2;
                
                // Clear canvas
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                
                // Draw electrons and orbits
                drawElectrons();
                
                // Draw nucleus
                drawNucleus();
                
                // Update and draw alpha particles
                alphaParticles.forEach(particle => {
                    particle.update();
                    particle.draw();
                });
                
                // Request next frame
                requestAnimationFrame(animate);
            }
            
            // Start animation
            animate();
        });
    </script>
</body>
</html>